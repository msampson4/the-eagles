<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>List </title>
    <link rel="stylesheet" href="../the-eagles/Notes/Notes.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <div class="topNav">
        <a href="../the-eagles/Testing.html">Testing</a>
        <a href="../the-eagles/Notes/Notes.html">Notes</a>
        <a href="App/name.html">App</a>
        <a href="../the-eagles/index.html">Home</a>
    </div>
</head>
<body>
<div class="header">
    <img src="/images/pngegg.png" alt="Treasure Hunt" style="width:70px; height:70px;">
    <p>Treasure Hunt</p>

</div>
<main id="main">
<p class="text">
    First you have to choose which hunt you want to play.
</p>
<div class="explorer">
    <img src="/images/explorer.png" alt="explorer" height="125px" width="125px">

</div>
<style>
    body {
        background-image: url("../the-eagles/images/10220-15_530-b.jpg");
        background-size: cover;
        background-repeat: no-repeat;
    }
</style>


<ul id="treasureHunts"></ul>

<script>

    const treasureHuntsList = document.getElementById("treasureHunts");

    const params = new URLSearchParams(location.search);
    let name = params.get("name");
    console.log(name);

    const URL = "https://codecyprus.org/th/api/list";
  fetch(URL)
          .then(response => response.json())
          .then(jsonObject => {
            if (jsonObject.status === "OK") {
                const treasureHunts = jsonObject.treasureHunts;
                for (let i = 0; i < treasureHunts.length; i++) {
                    let newItem = document.createElement("li");
                    newItem.innerHTML = "<a href='start.html?playerName=" + name + "&treasureHuntID=" + treasureHunts[i].uuid + "'>" + treasureHunts[i].name + " </a>";
                    treasureHuntsList.appendChild(newItem);
                    console.log(treasureHunts[i].name);
                }
            }
          });



</script>
<footer>
    <div class="column" style="background-color:saddlebrown;">
        <h2>Follow us on:</h2>
        <a href="https://www.instagram.com/treasurehuntco1111/">
            <img src="../the-eagles/images/Instagram_logo_2016.jpg" height="40" width="40"/>
        </a>
        <a href="https://twitter.com/huntco1111">
            <img src="../the-eagles/images/u6qfBBkF_400x400.jpg" height="40" width="40"/>
        </a>
        <a href="https://www.tiktok.com/@treasurehuntco1111">
            <img src="../the-eagles/images/761b5a3f301cbc3cb3a98f9d63169076.png" height="40" width="40"/>
        </a>
    </div>
    <div class="column" style="background-color:saddlebrown;">


    </div>

    <div class="column" style="background-color:saddlebrown;">
        <h2>Collaborators:</h2>
        <p> Michalis Sampson, Nikolas Papamichael</p>
        <p> Arsenios Hadjigeorgiou, Constantinos Koliaros</p>

    </div>
</footer>
</body>
</html>