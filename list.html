<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>List </title>
    <link rel="stylesheet" href="../the-eagles/Scoreboard/list.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<style>
    body {
        background-image: url("../the-eagles/images/3947851-assassins-creed-black-flag-fantasy-fighting-action-stealth-adventure-pirate.jpg");
        background-size: cover;
        background-repeat: no-repeat;
        background-blend-mode: hard-light;
    }
</style>
<body>
<div class="topNav">
    <a href="Scoreboard/Scoreboard.html">Score</a>
    <a href="../the-eagles/Notes/Notes.html">Notes</a>
    <a href="../the-eagles/Testing.html">Testing</a>
    <a href="../the-eagles/index.html">Home</a>
</div>

<div style="float: none; clear: both;"></div>
<div id="debatable" style="margin-left: 44%; margin-top: 10%;">
    <div class="text">
    First you have to choose which hunt you want to play.
    </div>

    <div><ul id="treasureHunts"></ul></div>
</div>

<script>

    const treasureHuntsList = document.getElementById("treasureHunts");

    const params = new URLSearchParams(location.search);
    let name = params.get("name");
    console.log(name);

    const URL = "https://codecyprus.org/th/api/list";
  fetch(URL)
          .then(response => response.json())
          .then(jsonObject => {
            if (jsonObject.status === "OK") {
                const treasureHunts = jsonObject.treasureHunts;
                for (let i = 0; i < treasureHunts.length; i++) {
                    let newItem = document.createElement("li");
                    newItem.innerHTML = "<a class='two' href='start.html?playerName=" + name + "&treasureHuntID=" + treasureHunts[i].uuid + "'>" + treasureHunts[i].name + " </a>";
                    treasureHuntsList.appendChild(newItem);
                    console.log(treasureHunts[i].name);
                }
            }
          });



</script>


</body>
</html>